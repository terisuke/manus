# Difyを使ったAI駆動開発ハンズオン
## 参加者向けハンドアウト

## 目次
1. ワークショップの概要
2. 環境セットアップガイド
3. Difyの基本操作
4. 実践演習ガイド
5. 参考資料とリソース

---

## 1. ワークショップの概要

### 目標
このハンズオンワークショップでは、Difyプラットフォームを使用してAI駆動開発の基本を学び、実際に生成AIアプリケーションを構築する実践的なスキルを習得します。

### タイムテーブル

| 時間 | セッション | 内容 |
|------|------------|------|
| 9:30-10:00 | イントロダクション | AI駆動開発とDifyの概要説明 |
| 10:00-10:30 | 環境セットアップ | アカウント作成、API設定 |
| 10:30-11:30 | 基本的なAIチャットボット作成 | テンプレート活用、プロンプト設計 |
| 11:30-12:30 | 昼食休憩 | - |
| 12:30-13:30 | RAGを活用した知識ベース構築 | ドキュメント処理、RAG設定 |
| 13:30-14:30 | ワークフローの設計と実装 | ノード活用、条件分岐 |
| 14:30-14:45 | 休憩 | - |
| 14:45-16:15 | 実践演習 | チーム開発、発表 |
| 16:15-16:45 | 応用と発展的な活用方法 | 外部連携、デプロイ |
| 16:45-17:15 | まとめとQ&A | 振り返り、質疑応答 |

### 必要な準備物
- ノートパソコン（Windows/Mac/Linux）
- 安定したインターネット接続
- 最新のWebブラウザ（Chrome/Firefox/Safari推奨）
- OpenAI APIキー（オプション、共有アカウントも提供します）

---

## 2. 環境セットアップガイド

### Difyアカウントの作成
1. [Dify公式サイト](https://dify.ai/)にアクセスする
2. 右上の「始める」ボタンをクリック
3. GitHubまたはGoogleアカウントでログイン
4. 利用規約に同意

### OpenAI APIキーの取得（オプション）
1. [OpenAIのウェブサイト](https://platform.openai.com/)にアクセス
2. アカウント作成またはログイン
3. 「API Keys」セクションに移動
4. 「Create new secret key」をクリック
5. キーの名前を入力し、キーを生成
6. 生成されたAPIキーをコピー（このキーは一度しか表示されないので注意）

### Difyでのモデル設定
1. Difyダッシュボードの右上のユーザーアイコンをクリック
2. 「設定」を選択
3. 「モデルプロバイダー」タブを選択
4. OpenAIを選択し、APIキーを入力
5. 「保存」をクリック

※共有アカウントを使用する場合は、講師から提供される認証情報を使用してください。

---

## 3. Difyの基本操作

### ダッシュボードの概要
- **アプリケーション**: 作成したAIアプリケーションの一覧
- **ナレッジベース**: 作成した知識ベースの一覧
- **データセット**: アップロードしたデータセットの管理
- **設定**: アカウント設定、APIキー管理など

### アプリケーションの種類
- **チャットアプリ**: 対話型のAIアプリケーション
- **テキスト生成アプリ**: 一問一答形式のAIアプリケーション
- **エージェント**: 複雑なタスクを自律的に実行するAIアプリケーション
- **ワークフロー**: 複数のステップを含む自動化されたAIプロセス

### 基本的な操作フロー
1. アプリケーションの作成（新規作成またはテンプレート使用）
2. 基本設定の構成（名前、説明、モデル選択）
3. プロンプトの設計と調整
4. テストと改善
5. 公開と共有

---

## 4. 実践演習ガイド

### 演習1: 基本的なDify操作入門

#### 目的
- Difyの基本的な操作方法を習得する
- シンプルなAIチャットボットを作成する

#### 手順
1. 新規アプリケーション作成
   - 「新規アプリケーション」ボタンをクリック
   - テンプレート「基本的なチャットボット」を選択
   - アプリケーション名と説明を入力

2. 基本設定
   - モデル: GPT-4またはGPT-3.5-turbo
   - 温度: 0.7（バランスの取れた創造性）
   - 最大トークン数: 2000

3. プロンプト設計
   - システムプロンプトの編集
   - 変数の活用（例: {{user_input}}）
   - プロンプトのテスト

4. チャットボットのカスタマイズ
   - キャラクター設定の追加
   - 応答スタイルの調整
   - 制約条件の設定

#### 演習課題
特定の専門分野（料理、旅行、技術サポートなど）に特化したチャットボットを作成してください。プロンプトを工夫して、ボットのキャラクター性や応答スタイルをカスタマイズしてください。

### 演習2: RAGを活用した知識ベースチャットボット

#### 目的
- RAG（検索拡張生成）の概念と重要性を理解する
- 知識ベースの作成と管理方法を習得する
- 外部ドキュメントを活用したチャットボットを構築する

#### 手順
1. 知識ベースの作成
   - ナレッジベースメニューから新規作成
   - 名前と説明を入力
   - インデックス方式を選択（ベクトル検索推奨）

2. ドキュメントのアップロード
   - サンプルドキュメントを準備（提供されたPDFまたは自分のドキュメント）
   - ドキュメントをアップロード
   - チャンク設定の調整（チャンクサイズ: 1000、オーバーラップ: 200推奨）

3. RAGパイプラインの設定
   - アプリケーション作成画面でRAG機能を有効化
   - 知識ベースを接続
   - 検索方式を選択（セマンティック検索推奨）
   - 検索パラメータの調整（類似度閾値: 0.7、検索結果数: 3推奨）

4. テストと改善
   - 知識ベースに関連する質問でテスト
   - 回答の精度と関連性を確認
   - プロンプトと検索パラメータを調整

#### 演習課題
提供されたドキュメントセット（製品マニュアル、FAQ、技術文書など）を知識ベースとして取り込み、特定のユースケース（技術サポート、社内ナレッジ共有など）に特化したRAGチャットボットを構築してください。

### 演習3: ワークフローを活用した高度なAIアプリケーション開発

#### 目的
- Difyのワークフロー機能の基本を理解する
- 複雑なAIアプリケーションの設計方法を習得する
- 条件分岐や変数を活用した高度なワークフローを構築する

#### 手順
1. ワークフロー作成
   - 新規ワークフロー作成
   - 基本設定の構成

2. 基本的なノードの追加
   - 入力ノード: ユーザー入力の受け取り
   - LLMノード: AIモデルによる処理
   - 出力ノード: 結果の表示

3. 条件分岐の実装
   - 条件ノードの追加
   - 条件式の設定
   - 分岐処理の実装

4. 変数の活用
   - 変数の定義
   - 変数への値の代入
   - 変数を使った処理の制御

#### 演習課題
多段階の対話を行うカスタマーサポートワークフローを構築してください。ユーザーの問題カテゴリを分類し、カテゴリに応じた専門的な回答を生成し、必要に応じて追加情報を要求するフローを実装してください。

### 演習4: 実践的なビジネスシナリオに基づくAIアプリケーション開発

#### 目的
- 実際のビジネスニーズに基づいたAIアプリケーションを設計・開発する
- チームでの協働開発プロセスを体験する
- 開発したアプリケーションのプレゼンテーションとフィードバックを行う

#### シナリオ例
- **マーケティングコンテンツジェネレーター**
- **社内ナレッジマネジメントシステム**
- **カスタマーサポート自動化システム**
- **データ分析レポート生成ツール**

#### 開発プロセス
1. 要件定義（15分）
2. 設計（20分）
3. 開発（40分）
4. プレゼンテーション準備（5分）
5. 発表とフィードバック（各チーム10分）

#### 評価基準
- 機能性: 要件に沿った機能が実装されているか
- ユーザビリティ: 使いやすく、直感的なインターフェースか
- プロンプト設計: 効果的なプロンプトエンジニアリングがされているか
- 知識ベース活用: RAGが適切に構成され、正確な情報提供ができるか
- ワークフロー設計: 論理的で効率的なワークフローが構築されているか
- 創造性: 独自のアイデアや工夫が見られるか

---

## 5. 参考資料とリソース

### Dify公式リソース
- [Dify公式サイト](https://dify.ai/)
- [Dify公式ドキュメント](https://docs.dify.ai/)
- [Dify GitHub](https://github.com/langgenius/dify)

### AI駆動開発の学習リソース
- [プロンプトエンジニアリングガイド](https://www.promptingguide.ai/)
- [RAGの基礎と実践](https://www.pinecone.io/learn/retrieval-augmented-generation/)
- [LangChainドキュメント](https://python.langchain.com/docs/get_started/introduction)

### 推奨書籍
- 『Generative AI with LangChain』by Ben Auffarth
- 『Building RAG Applications with LlamaIndex』by Jerry Liu & Simon Suo
- 『Prompt Engineering for Generative AI』by Guannan Wei

### コミュニティリソース
- [Difyコミュニティフォーラム](https://github.com/langgenius/dify/discussions)
- [Discord コミュニティ](https://discord.gg/AhzKf7dNgk)
- [Hugging Face Spaces](https://huggingface.co/spaces)

### チートシート

#### プロンプトエンジニアリングのコツ
- 明確で具体的な指示を与える
- コンテキストを十分に提供する
- 出力形式を指定する
- 例示（few-shot learning）を活用する
- 段階的な思考プロセスを促す

#### RAG最適化のポイント
- 適切なチャンクサイズの選択
- 高品質な埋め込みモデルの使用
- 検索パラメータの調整
- 回答生成プロンプトの最適化
- 引用と出典の適切な表示

#### ワークフロー設計のベストプラクティス
- 単一責任の原則を守る
- エラーハンドリングを組み込む
- 変数の命名規則を統一する
- 複雑なフローはサブフローに分割する
- テスト駆動開発を心がける

---

## ワークショップ後のフォローアップ

### 継続学習のためのリソース
- [オンラインコース一覧]
- [チュートリアルシリーズ]
- [コミュニティイベント情報]

### サポート
- メール: [サポートメールアドレス]
- コミュニティフォーラム: [フォーラムURL]
- オフィスアワー: [日時と参加方法]

### フィードバック
ワークショップの改善のために、以下のリンクからフィードバックをお寄せください：
[フィードバックフォームURL]

---

© 2025 [組織名] All Rights Reserved.
