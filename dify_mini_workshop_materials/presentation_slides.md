# Difyを使った初心者向け業務自動化ハンズオン
## 2時間で作る！使える業務効率化アプリ

---

## 1. はじめに（15分）

### 本日のゴール
- Difyプラットフォームの基本を理解する
- ワークフロー機能を使った業務自動化の方法を学ぶ
- 実際に使える「ビジネスアシスタント」アプリを作成する

### 対象者
- AIやノーコードツールの初心者
- プログラミング経験は不要
- 業務効率化に興味のあるビジネスパーソン

---

## 2. Difyとは？（5分）

### Difyの概要
- オープンソースのLLMアプリ開発プラットフォーム
- ノーコードでAIアプリケーションを構築可能
- 多様なAIモデルに対応（OpenAI、Anthropic、Azure OpenAIなど）

### Difyの特徴
- 直感的なビジュアルインターフェース
- RAG（検索拡張生成）機能搭載
- 外部ツール連携が可能

---

## 3. ワークフロー機能の基本（10分）

### ワークフローとは
- 小さな処理のステップ（ノード）を組み合わせて自動化
- 視覚的にノードを配置・接続してフローを構築
- 条件分岐や変数を活用した柔軟な処理が可能

### ワークフロータイプ
- チャットフロー：対話型アプリケーション向け
- ワークフロー：バッチ処理や自動化向け

---

## 4. 主要なノードの種類（10分）

### 基本ノード
- 開始ノード：ワークフローの起点
- LLMノード：AIモデルを使った処理
- 終了/回答ノード：結果の出力

### 制御ノード
- 質問分類器：入力内容に基づいて処理を振り分け
- IF/ELSE：条件分岐の実装
- イテレーション：繰り返し処理

### その他のノード
- 知識取得：外部情報の参照（RAG）
- コード：カスタムコードの実行
- テンプレート：定型文の活用

---

## 5. 環境セットアップ（15分）

### アカウント作成
- Dify公式サイト（https://dify.ai/）にアクセス
- GitHubまたはGoogleアカウントでサインアップ

### APIキー設定
- OpenAI APIキーの設定方法
- 共有アカウントの使用方法（ハンズオン用）

### 基本操作の確認
- ダッシュボードの見方
- アプリケーション作成の流れ

---

## 6. 「ビジネスアシスタント」アプリ開発（75分）

### アプリの概要
- 日常業務をサポートする多機能アシスタント
- メール文章生成、会議メモ要約、タスク優先度付けなどの機能
- 質問分類器を使って機能を振り分け

### 開発ステップ
1. アプリの作成とワークフロー選択（5分）
2. 基本構造の設計（10分）
3. メール文章生成機能の実装（15分）
4. 会議メモ要約機能の実装（15分）
5. タスク優先度付け機能の実装（15分）
6. その他の質問への対応（10分）
7. アプリのテストと公開（5分）

---

## 7. アプリの作成とワークフロー選択（5分）

### 手順
1. 「新規アプリケーション作成」ボタンをクリック
2. アプリケーション名を「ビジネスアシスタント」と入力
3. アプリケーションタイプで「チャットフロー」を選択
4. 「作成」ボタンをクリック

![アプリ作成画面のイメージ]

---

## 8. 基本構造の設計（10分）

### 質問分類器の設定
- 開始ノードの「+」ボタンから質問分類器を追加
- 以下のクラスを設定：
  - メール文章作成の依頼
  - 会議メモの要約依頼
  - タスク優先度付けの依頼
  - その他の質問

![質問分類器設定のイメージ]

---

## 9. メール文章生成機能の実装（15分）

### LLMノードの設定
- システムプロンプト：
  ```
  あなたはプロフェッショナルなビジネスメール作成アシスタントです。
  ユーザーから提供された目的と要点に基づいて、適切なビジネスメールを作成してください。
  メールは日本語のビジネス文書として適切な敬語と構成で作成し、以下の形式に従ってください：
  
  1. 宛先（To）
  2. 件名（Subject）
  3. 挨拶
  4. 本文（要点を簡潔に伝える）
  5. 締めの言葉
  6. 署名
  ```

### 回答ノードの設定
- 回答テキスト：`{{前のノードの出力}}`

---

## 10. 会議メモ要約機能の実装（15分）

### LLMノードの設定
- システムプロンプト：
  ```
  あなたは会議メモを効率的に要約するアシスタントです。
  ユーザーから提供された会議メモを分析し、以下の形式で要約してください：
  
  1. 会議の目的
  2. 主要な議論ポイント（箇条書き3-5項目）
  3. 決定事項（箇条書き）
  4. 次のアクション（担当者と期限を含む箇条書き）
  5. フォローアップが必要な事項
  ```

### 回答ノードの設定
- 回答テキスト：`{{前のノードの出力}}`

---

## 11. タスク優先度付け機能の実装（15分）

### LLMノードの設定
- システムプロンプト：
  ```
  あなたはタスク管理のエキスパートです。
  ユーザーから提供された複数のタスクを分析し、重要度と緊急度に基づいて優先順位を付けてください。
  以下の形式で回答を構成してください：
  
  1. 最優先タスク（今すぐ取り組むべきもの）
  2. 高優先タスク（今日中に取り組むべきもの）
  3. 中優先タスク（今週中に取り組むべきもの）
  4. 低優先タスク（時間があれば取り組むもの）
  ```

### 回答ノードの設定
- 回答テキスト：`{{前のノードの出力}}`

---

## 12. その他の質問への対応（10分）

### LLMノードの設定
- システムプロンプト：
  ```
  あなたはビジネスアシスタントです。
  ユーザーからの質問に対して、簡潔かつ役立つ回答を提供してください。
  専門的な内容については、信頼できる情報源に基づいて回答し、不確かな情報には言及しないでください。
  ビジネスマナーや効率化のヒントなど、実用的なアドバイスを心がけてください。
  ```

### 回答ノードの設定
- 回答テキスト：`{{前のノードの出力}}`

---

## 13. アプリのテストと公開（5分）

### テスト方法
- 「プレビュー」タブでアプリをテスト
- 各機能のサンプル入力：
  - メール文章作成：「取引先への商品納期遅延のお詫びメールを作成してください。理由は部品調達の遅れです。」
  - 会議メモ要約：「以下の会議メモを要約してください：[会議メモの内容]」
  - タスク優先度付け：「以下のタスクの優先順位を教えてください：[タスクリスト]」

### 公開方法
- 「公開」ボタンでアプリを公開
- 共有リンクの取得方法

---

## 14. 発展的な活用方法（5分）

### 機能拡張のアイデア
- ユーザー情報の活用（変数の追加）
- テンプレートの活用
- 外部ツール連携

### 業務活用のヒント
- 定型業務の自動化
- チーム内での知識共有
- カスタマーサポートの効率化

---

## 15. まとめと質疑応答（10分）

### 本日のおさらい
- Difyの基本概念と特徴
- ワークフロー機能の活用方法
- 「ビジネスアシスタント」アプリの構築手順

### 次のステップ
- さらなる学習リソース
- コミュニティへの参加方法
- 実務への導入ステップ

### 質疑応答
- ご質問をお受けします

---

## ご参加ありがとうございました！

### 連絡先・参考リンク
- 公式サイト：https://dify.ai/
- ドキュメント：https://docs.dify.ai/
- コミュニティ：[Discordリンク]
