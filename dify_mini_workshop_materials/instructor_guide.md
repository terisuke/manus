# Difyを使った初心者向け業務自動化ハンズオン
## 講師用ガイド

### ワークショップの概要

**目標**：参加者がDifyプラットフォームを使用して、ワークフロー機能を活用した業務自動化アプリを構築する実践的なスキルを習得できるようにする

**対象者**：AIやノーコードツールの初心者、プログラミング経験がなくてもAIツールを活用したいビジネスパーソン

**所要時間**：2時間

### 事前準備チェックリスト

- [ ] 参加者全員分のDify共有アカウントとAPIキーの準備
- [ ] プレゼンテーション資料の最終確認
- [ ] 参加者向けハンドアウトの印刷または電子配布の準備
- [ ] デモ用のDifyアカウントでサンプルアプリを事前に作成しておく
- [ ] インターネット接続の確認
- [ ] プロジェクター/スクリーンの動作確認
- [ ] タイムキーパーの設定

### タイムテーブルと講師向け詳細ガイド

#### 1. イントロダクション（15分）

**内容**：
- 講師自己紹介（2分）
- ワークショップの目標と流れの説明（3分）
- Difyプラットフォームの紹介と特徴（5分）
- ワークフロー機能の概要と業務自動化の可能性（5分）

**講師向けポイント**：
- 参加者の経験レベルを簡単に確認し、内容の難易度を調整する準備をしておく
- 実際のビジネスシーンでの活用例を交えて説明すると理解が深まる
- 技術的な詳細よりも、「何ができるか」に焦点を当てる

#### 2. Dify環境のセットアップ（15分）

**内容**：
- アカウント作成とログイン方法の説明（5分）
- APIキーの設定方法（5分）
- 基本的な操作方法の説明（5分）

**講師向けポイント**：
- 共有アカウントの情報を提供し、APIキー設定の手間を省くオプションも用意しておく
- 参加者がログインできているか確認しながら進める
- トラブルが発生した場合のサポート要員を配置しておくと良い

**想定される質問と回答**：
- Q: 「自分のOpenAI APIキーを持っていないのですが参加できますか？」
  A: 「はい、ハンズオン用の共有アカウントを用意していますのでご安心ください」
- Q: 「APIキーの料金はどのくらいかかりますか？」
  A: 「OpenAIのAPIは使用量に応じた従量課金制です。今回のハンズオンでの使用量であれば数ドル程度です」

#### 3. 基本的なワークフロー作成（30分）

**内容**：
- ワークフローの基本概念の説明（5分）
- 主要なノードの種類と使い方の解説（10分）
- シンプルな自動応答ワークフローの作成デモ（15分）

**講師向けポイント**：
- 画面を大きく表示し、操作をゆっくり行う
- 各ノードの役割を明確に説明する
- 参加者が一緒に操作できるよう、適宜待ち時間を設ける
- 質問があれば随時受け付ける姿勢を示す

**デモ用シンプルワークフロー**：
1. 開始ノード → LLMノード → 回答ノード の基本構造
2. LLMノードのプロンプトは「あなたはビジネスアシスタントです。簡潔に回答してください。」程度の簡単なもの
3. 実際に動作させて、入力と出力の関係を示す

#### 4. 業務自動化アプリの開発（45分）

**内容**：
- 「ビジネスアシスタント」アプリの概要説明（5分）
- 質問分類器を使った基本構造の設計（10分）
- 各機能（メール文章生成、会議メモ要約、タスク優先度付け）の実装（25分）
- アプリのテストと改善（5分）

**講師向けポイント**：
- 各ステップで参加者の進捗を確認しながら進める
- 複雑な部分（プロンプト設計など）は事前に準備したものをコピー＆ペーストできるようにしておく
- 遅れている参加者へのサポートを行いつつ、先に進んでいる参加者には発展的な課題を提示する
- 実際のビジネスシーンでの活用イメージを具体的に伝える

**トラブルシューティング**：
- 質問分類器が期待通りに動作しない場合：クラスの説明をより具体的にする
- LLMの応答が遅い場合：一時的なサーバー負荷の可能性を説明し、少し待つか、モデルを変更する
- プロンプトのコピー＆ペーストでエラーが出る場合：手動で入力するか、フォーマットを確認する

#### 5. まとめと発展的な活用方法（15分）

**内容**：
- 作成したアプリの実務への導入方法（5分）
- さらなる機能拡張のアイデア紹介（5分）
- 質疑応答（5分）

**講師向けポイント**：
- 参加者が作成したアプリを実際のビジネスでどう活用できるかを具体的に示す
- 学習を継続するためのリソースを紹介する
- 参加者の成果を称賛し、モチベーションを高める

**発展的な内容（時間に余裕がある場合）**：
- ユーザー情報の活用（変数の追加）
- テンプレートの活用
- 外部ツール連携

### よくある質問と回答

#### Difyについて
- Q: 「Difyは無料で使えますか？」
  A: 「はい、基本的な機能は無料で利用できます。ただし、AIモデルの使用にはAPIキーが必要で、そちらは従量課金となります」

- Q: 「Difyを社内で導入する場合、セキュリティ面は大丈夫ですか？」
  A: 「Difyはオープンソースなので、社内サーバーにインストールして利用することも可能です。また、クラウド版でも企業向けのセキュリティ機能が提供されています」

#### ワークフロー機能について
- Q: 「チャットフローとワークフローの違いは何ですか？」
  A: 「チャットフローは対話型のシナリオ向け、ワークフローは自動化やバッチ処理のシナリオ向けです。今回のハンズオンではチャットフローを使用しています」

- Q: 「どのくらい複雑なワークフローが作れますか？」
  A: 「条件分岐、繰り返し処理、外部API連携などが可能で、かなり複雑な業務フローも実装できます。ただし、非常に複雑なロジックの場合は、コードノードを使用するか、外部システムとの連携が必要になることもあります」

#### APIキーについて
- Q: 「APIキーの使用量はどこで確認できますか？」
  A: 「OpenAIのダッシュボードで確認できます。また、Dify内でも使用状況の概要を確認できます」

- Q: 「APIキーの料金を抑える方法はありますか？」
  A: 「プロンプトを短くする、より安価なモデルを選択する、トークン数を制限するなどの方法があります。また、同じ質問に対する回答をキャッシュする機能もあります」

#### 業務活用について
- Q: 「どのような業務に最も適していますか？」
  A: 「定型的な文書作成、情報の要約・分類、FAQ対応、データ分析レポート作成など、テキストベースの業務に特に適しています」

- Q: 「作成したアプリを他のチームメンバーと共有できますか？」
  A: 「はい、Difyでは作成したアプリを共有リンクやAPIとして公開できます。チーム内での共同編集も可能です」

### トラブルシューティングガイド

#### 接続・ログイン問題
- **症状**: Difyにログインできない
  **解決策**: ブラウザのキャッシュをクリア、別のブラウザを試す、VPNを無効化する

- **症状**: APIキーが認識されない
  **解決策**: キーが正しくコピーされているか確認、APIキーの更新、別のキーを試す

#### ワークフロー構築問題
- **症状**: ノードが追加できない
  **解決策**: ページのリロード、別のブラウザを試す、キャッシュのクリア

- **症状**: 質問分類器が正しく分類しない
  **解決策**: クラスの説明をより具体的に、例を含める、クラス数を減らす

- **症状**: LLMの応答が遅い/タイムアウトする
  **解決策**: より小さなモデルを選択、プロンプトを短くする、サーバー負荷の少ない時間に再試行

#### 出力問題
- **症状**: 期待した出力と異なる結果が返ってくる
  **解決策**: プロンプトをより具体的に、出力フォーマットを明示的に指定、例を含める

- **症状**: エラーメッセージが表示される
  **解決策**: エラーメッセージの内容を確認、プロンプトの長さを調整、APIキーの制限を確認

### ワークショップ後のフォローアップ

- 参加者に対して、作成したアプリの共有リンクを保存するよう促す
- 学習リソース（ドキュメント、チュートリアル、コミュニティ）の案内
- フィードバックの収集（アンケートなど）
- 次回のワークショップや発展的な内容の案内

### 講師向け参考資料

- [Dify公式ドキュメント](https://docs.dify.ai/)
- [Dify GitHub](https://github.com/langgenius/dify)
- [Dify Discord コミュニティ](https://discord.gg/AhzKf7dNgk)
- [OpenAI APIドキュメント](https://platform.openai.com/docs/api-reference)
- [プロンプトエンジニアリングガイド](https://www.promptingguide.ai/)